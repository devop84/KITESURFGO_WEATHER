const data = [{
  "timestamp": 1682616825,
  "height": -0.305887674,
  "state": "FALLING",
  "datetime": "2023-04-27T17:33:45+00:00"
},
{
  "timestamp": 1682618625,
  "height": -0.4161781203,
  "state": "FALLING",
  "datetime": "2023-04-27T18:03:45+00:00"
},
{
  "timestamp": 1682620425,
  "height": -0.5281981549,
  "state": "FALLING",
  "datetime": "2023-04-27T18:33:45+00:00"
},
{
  "timestamp": 1682622225,
  "height": -0.6183599329,
  "state": "FALLING",
  "datetime": "2023-04-27T19:03:45+00:00"
},
{
  "timestamp": 1682624025,
  "height": -0.6596445057,
  "state": "FALLING",
  "datetime": "2023-04-27T19:33:45+00:00"
},
{
  "timestamp": 1682625825,
  "height": -0.6362874116,
  "state": "RISING",
  "datetime": "2023-04-27T20:03:45+00:00"
},
{
  "timestamp": 1682627625,
  "height": -0.553763158,
  "state": "RISING",
  "datetime": "2023-04-27T20:33:45+00:00"
},
{
  "timestamp": 1682629425,
  "height": -0.4373405999,
  "state": "RISING",
  "datetime": "2023-04-27T21:03:45+00:00"
},
{
  "timestamp": 1682631225,
  "height": -0.3192356161,
  "state": "RISING",
  "datetime": "2023-04-27T21:33:45+00:00"
},
{
  "timestamp": 1682633025,
  "height": -0.2217615354,
  "state": "RISING",
  "datetime": "2023-04-27T22:03:45+00:00"
},
{
  "timestamp": 1682634825,
  "height": -0.1467678272,
  "state": "RISING",
  "datetime": "2023-04-27T22:33:45+00:00"
},
{
  "timestamp": 1682636625,
  "height": -0.0778255494,
  "state": "RISING",
  "datetime": "2023-04-27T23:03:45+00:00"
},
{
  "timestamp": 1682638425,
  "height": 0.0064754509,
  "state": "RISING",
  "datetime": "2023-04-27T23:33:45+00:00"
},
{
  "timestamp": 1682640225,
  "height": 0.1166405587,
  "state": "RISING",
  "datetime": "2023-04-28T00:03:45+00:00"
},
{
  "timestamp": 1682642025,
  "height": 0.2434935286,
  "state": "RISING",
  "datetime": "2023-04-28T00:33:45+00:00"
},
{
  "timestamp": 1682643825,
  "height": 0.3612757097,
  "state": "RISING",
  "datetime": "2023-04-28T01:03:45+00:00"
},
{
  "timestamp": 1682645625,
  "height": 0.4400467865,
  "state": "RISING",
  "datetime": "2023-04-28T01:33:45+00:00"
},
{
  "timestamp": 1682647425,
  "height": 0.4598786138,
  "state": "FALLING",
  "datetime": "2023-04-28T02:03:45+00:00"
},
{
  "timestamp": 1682649225,
  "height": 0.4193552397,
  "state": "FALLING",
  "datetime": "2023-04-28T02:33:45+00:00"
},
{
  "timestamp": 1682651025,
  "height": 0.3348924888,
  "state": "FALLING",
  "datetime": "2023-04-28T03:03:45+00:00"
},
{
  "timestamp": 1682652825,
  "height": 0.2323090433,
  "state": "FALLING",
  "datetime": "2023-04-28T03:33:45+00:00"
},
{
  "timestamp": 1682654625,
  "height": 0.1352688771,
  "state": "FALLING",
  "datetime": "2023-04-28T04:03:45+00:00"
},
{
  "timestamp": 1682656425,
  "height": 0.0558488422,
  "state": "FALLING",
  "datetime": "2023-04-28T04:33:45+00:00"
},
{
  "timestamp": 1682658225,
  "height": -0.0088401364,
  "state": "FALLING",
  "datetime": "2023-04-28T05:03:45+00:00"
},
{
  "timestamp": 1682660025,
  "height": -0.0725224833,
  "state": "FALLING",
  "datetime": "2023-04-28T05:33:45+00:00"
},
{
  "timestamp": 1682661825,
  "height": -0.1497690462,
  "state": "FALLING",
  "datetime": "2023-04-28T06:03:45+00:00"
},
{
  "timestamp": 1682663625,
  "height": -0.2448111209,
  "state": "FALLING",
  "datetime": "2023-04-28T06:33:45+00:00"
},
{
  "timestamp": 1682665425,
  "height": -0.3452693229,
  "state": "FALLING",
  "datetime": "2023-04-28T07:03:45+00:00"
},
{
  "timestamp": 1682667225,
  "height": -0.4252335617,
  "state": "FALLING",
  "datetime": "2023-04-28T07:33:45+00:00"
},
{
  "timestamp": 1682669025,
  "height": -0.4572483831,
  "state": "FALLING",
  "datetime": "2023-04-28T08:03:45+00:00"
},
{
  "timestamp": 1682670825,
  "height": -0.4270667216,
  "state": "RISING",
  "datetime": "2023-04-28T08:33:45+00:00"
},
{
  "timestamp": 1682672625,
  "height": -0.3423658132,
  "state": "RISING",
  "datetime": "2023-04-28T09:03:45+00:00"
},
{
  "timestamp": 1682674425,
  "height": -0.2294749029,
  "state": "RISING",
  "datetime": "2023-04-28T09:33:45+00:00"
},
{
  "timestamp": 1682676225,
  "height": -0.1193742872,
  "state": "RISING",
  "datetime": "2023-04-28T10:03:45+00:00"
},
{
  "timestamp": 1682678025,
  "height": -0.0312139705,
  "state": "RISING",
  "datetime": "2023-04-28T10:33:45+00:00"
},
{
  "timestamp": 1682679825,
  "height": 0.0365223287,
  "state": "RISING",
  "datetime": "2023-04-28T11:03:45+00:00"
},
{
  "timestamp": 1682681625,
  "height": 0.1018501097,
  "state": "RISING",
  "datetime": "2023-04-28T11:33:45+00:00"
},
{
  "timestamp": 1682683425,
  "height": 0.1850359451,
  "state": "RISING",
  "datetime": "2023-04-28T12:03:45+00:00"
},
{
  "timestamp": 1682685225,
  "height": 0.2933866949,
  "state": "RISING",
  "datetime": "2023-04-28T12:33:45+00:00"
},
{
  "timestamp": 1682687025,
  "height": 0.4143083555,
  "state": "RISING",
  "datetime": "2023-04-28T13:03:45+00:00"
},
{
  "timestamp": 1682688825,
  "height": 0.5202480962,
  "state": "RISING",
  "datetime": "2023-04-28T13:33:45+00:00"
},
{
  "timestamp": 1682690625,
  "height": 0.5818966068,
  "state": "RISING",
  "datetime": "2023-04-28T14:03:45+00:00"
},
{
  "timestamp": 1682692425,
  "height": 0.5818212066,
  "state": "FALLING",
  "datetime": "2023-04-28T14:33:45+00:00"
},
{
  "timestamp": 1682694225,
  "height": 0.5215135396,
  "state": "FALLING",
  "datetime": "2023-04-28T15:03:45+00:00"
},
{
  "timestamp": 1682696025,
  "height": 0.4192071968,
  "state": "FALLING",
  "datetime": "2023-04-28T15:33:45+00:00"
},
{
  "timestamp": 1682697825,
  "height": 0.3005936841,
  "state": "FALLING",
  "datetime": "2023-04-28T16:03:45+00:00"
},
{
  "timestamp": 1682699625,
  "height": 0.1873368547,
  "state": "FALLING",
  "datetime": "2023-04-28T16:33:45+00:00"
},
{
  "timestamp": 1682701425,
  "height": 0.0885290516,
  "state": "FALLING",
  "datetime": "2023-04-28T17:03:45+00:00"
}]

const w = 600;
const h = 400;
const margin = { top: 20, right: 20, bottom: 40, left: 40 };

// Set up scales for x and y axis
const xScale = d3.scaleTime()
  .domain(d3.extent(data, d => new Date(d.datetime)))
  .range([margin.left, w - margin.right]);

const yScale = d3.scaleLinear()
  .domain(d3.extent(data, d => d.height))
  .range([h - margin.bottom, margin.top]);

// Set up line function with curve type
const lineFunc = d3.line()
  .x(d => xScale(new Date(d.datetime)))
  .y(d => yScale(d.height))
  .curve(d3.curveCatmullRom.alpha(0.5));

// Draw SVG and line path
const svg = d3.select("body").append("svg")
  .attr("width", w)
  .attr("height", h);

svg.append("path")
  .datum(data)
  .attr("d", lineFunc)
  .attr("fill", "none")
  .attr("stroke", "steelblue")
  .attr("stroke-width", 2);
